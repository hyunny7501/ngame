# Overview

This is a Korean N-행시 (N-haengsi) generator - a Streamlit web application that creates Korean acrostic poems using Google's Gemini AI. N-행시 is a traditional Korean wordplay where each line of a poem starts with consecutive letters from a given word. The application provides a simple, kid-friendly interface where users can input Korean words and receive creative, emoji-enhanced acrostic poems generated by AI. Users can also create their own N-행시 and compare it side-by-side with the AI version, fostering creativity and learning through comparison.

# User Preferences

Preferred communication style: Simple, everyday language.

# System Architecture

## Frontend Architecture
- **Framework**: Streamlit for rapid web application development
- **UI Design**: Kid-friendly interface with emojis and colorful styling
- **Layout**: Centered layout with instructional sections and input forms
- **State Management**: Streamlit session state for maintaining poem history and user inputs
- **Responsive Design**: Column-based layout for better organization
- **Interactive Features**: Side-by-side comparison view, user input fields for each character, real-time preview

## Backend Architecture
- **Service Layer**: `GeminiNRowService` class encapsulates AI integration logic
- **AI Integration**: Google Gemini 2.5 Flash model for content generation
- **Error Handling**: Try-catch blocks and environment variable validation
- **Prompt Engineering**: Detailed Korean language prompts with specific rules for N-행시 generation

## Authentication & Configuration
- **API Security**: Environment variable-based API key management for Gemini
- **Configuration**: Streamlit page configuration for branding and layout

## Data Flow
1. User inputs Korean word through Streamlit interface
2. Input validation and processing
3. Structured prompt creation with Korean N-행시 rules
4. Gemini API call with prompt for AI-generated poem
5. AI-generated poem displayed in left column
6. User input fields created for each character of the word in right column
7. Real-time preview of user's N-행시 creation
8. Side-by-side comparison view with encouragement messages
9. Both AI and user poems stored in session history with timestamps
10. Export functionality for both versions separately

# External Dependencies

## AI Services
- **Google Gemini API**: Core AI service for generating Korean acrostic poems
  - Model: gemini-2.5-flash
  - Purpose: Natural language generation for creative Korean content

## Python Libraries
- **Streamlit**: Web application framework for the user interface
- **Google GenAI**: Official Google Generative AI Python client
- **Standard Libraries**: os, time, logging for system operations

## Environment Configuration
- **GEMINI_API_KEY**: Required environment variable for Google Gemini API authentication

## Language & Localization
- **Korean Language Support**: Application specifically designed for Korean text processing and cultural context
- **Unicode Handling**: Full Korean character set support for input and output